<div class="row">
    <div class="col-md-6 mb-3">
        <h1>Marks Setup</h1>
    </div>
    <div class="col-md-6 text-right">
        <button nz-button [nzType]="'primary'"><span><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span></button>
    </div>
</div>
<div class="container">
    <form>
        <div class="row">
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <input matInput type="number" [(ngModel)]="input.MarkSetupCode" name="Code" placeholder="Code">
                </mat-form-field>
            </div>
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <mat-label>Select Exam</mat-label>
                    <mat-select name="ExamNo" [(ngModel)]="input.ExamNo">
                        <mat-option selected disabled>Select Exam</mat-option>
                        <mat-option [value]="ex.ExamCode" *ngFor="let ex of allExams">
                            {{ex.Name}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <input matInput type="number" name="ExamYear" [(ngModel)]="input.ExamYear" placeholder="Year">
                </mat-form-field>
            </div>
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <mat-label>Select Class</mat-label>
                    <mat-select (selectionChange)="getStudentByClass()" [(ngModel)]="input.ClassNo" name="ClassNo">
                        <mat-option selected disabled>
                            Select Class
                        </mat-option>
                        <mat-option [value]="cl.ClassCode" *ngFor="let cl of allClasses">
                            {{cl.ClassName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <mat-label>Select Section</mat-label>
                    <mat-select [(ngModel)]="input.SectionNo" name="SectionNo">
                        <mat-option selected disabled>
                            Select Section
                        </mat-option>
                        <mat-option [value]="sec.SectionCode" *ngFor="let sec of sections">
                            {{sec.SectionName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <mat-label>Select Student</mat-label>
                    <mat-select [(ngModel)]="input.StudentNo" name="StudentNo">
                        <mat-option selected disabled>
                            Select Student
                        </mat-option>
                        <mat-option [value]="std.StudentCode" *ngFor="let std of studentsByClass">
                            {{std.FullName}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <mat-form-field class="example-full-width">
                    <input matInput [matDatepicker]="picker" name="date1" [(ngModel)]="input.Date"
                        placeholder="Choose a date">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-md-6">
              
            </div>
        </div>
    </form>
</div>
<div class="container mt-3">
    <!-- <div class="row" style="display: flex;flex-direction: row-reverse;">
        <div class="col-md-2">
            <button class="add-btn">+</button>
        </div>
    </div> -->
    <div class="row" *ngFor='let item of classSubjects;index as i'>
        <div class="col-md-2">
            <mat-form-field class="example-full-width">
                <mat-label>Select Subject</mat-label>
                <mat-select [(ngModel)]="input.SubjectNo" name="SubjectNo">
                    <mat-option selected disabled>
                        Select Subject
                    </mat-option>
                    <mat-option [value]="sub.SubjectCode" *ngFor="let sub of classSubjects">
                        {{sub.SubjectName}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="example-full-width">
                <input matInput type="number" name="check{{i}}" [(ngModel)]="item.TotalMarks" placeholder="Total Marks">
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="example-full-width">
                <input matInput type="number" name="check{{i}}" [(ngModel)]="item.PassingMarks"
                    placeholder="Passing Marks">
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="example-full-width">
                <input matInput type="number" name="check{{i}}" [(ngModel)]="item.ObtainMarks"
                    placeholder="Obtain Marks">
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="example-full-width">
                <input matInput type="text" name="check{{i}}" [(ngModel)]="item.GradeNo" placeholder="Grade">
            </mat-form-field>
        </div>
        <div class="col-md-2">
            <mat-form-field class="example-full-width">
                <input matInput type="text" name="check{{i}}" [(ngModel)]="item.Result" placeholder="Result">
            </mat-form-field>
        </div>
        <!-- <div class="col-md-1" style="padding: 10px">
            <button class="delete-btn">-</button>
        </div> -->
    </div>
    <div class="row">
        <!-- <div class="col-md-4"></div> -->
        <div class="col-md-1 offset-md-11">
            <button class="btn btn-primary" (click)="onSave()">
                Save
            </button>
        </div>
    </div>
</div>

<!-- <div class="table-responsive tab-pane active" role="tabpanel" id="home" style="overflow: auto; padding-top: 2px;">
    <table id="example" id="example" class="table table-hover dataTable dtr-inline">
        <thead>
            <tr>
                <th>S# </th>
                <th>Subjects</th>
                <th>Total Marks</th>
                <th>Passing Marks</th>
                <th>Obtain Marks</th>
                <th>Grade</th>
                <th>Result</th>
            </tr>
        </thead>
        <tbody class="FontSizeTable">
        </tbody>
        <tfoot>
            <tr>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </tfoot>
    </table>
</div> -->